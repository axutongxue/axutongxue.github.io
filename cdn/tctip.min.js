var tctipUtil={createElement:function(e,c,d){var b=document.createElement(c||"div");for(var a in e){a=="style"?(b[a].cssText=e[a]):(b[a]=e[a])}return(d||document.body).appendChild(b)},createElementHtml:function(e,c,d){var b=document.createElement(c||"div");for(var a in e){a=="style"?(b[a].cssText=e[a]):(b[a]=e[a])}return(d||document.body).appendChild(b)},getElementsByClassName:function(a,b){b=b||document;if(b.getElementsByClassName){return b.getElementsByClassName(a)}else{return(function c(m,k){var h=[],g=k.getElementsByTagName("*"),d=g.length,l=new RegExp("(^|\\s)"+m+"(\\s|$)"),f,e;for(f=0,e=0;f<d;f++){if(l.test(g[f].className)){h[e]=g[f];e++}}return h})(a,b)}},getTextKey:function(){if(tctipUtil.getExplorer()=="firefox"){return"textContent"}return"innerText"},getExplorer:function(){var a=window.navigator.userAgent.toLowerCase();if(a.indexOf("msie")>=0){return"ie"}else{if(a.indexOf("firefox")>=0){return"firefox"}else{if(a.indexOf("chrome")>=0){return"chrome"}else{if(a.indexOf("opera")>=0){return"opera"}else{if(a.indexOf("safari")>=0){return"safari"}}}}}},addLoadEvent:function(a){if(typeof window.onload!="function"){window.onload=a}else{var b=window.onload;window.onload=function(){b();a()}}},isSupportCanvas:function(){try{document.createElement("canvas").getContext("2d");return true}catch(a){return false}},isMouseLeaveOrEnter:function(c,b){if(!c){return false}if(c.type!="mouseout"&&c.type!="mouseover"&&c.type!="click"){return false}var a=c.relatedTarget?c.relatedTarget:c.type=="mouseout"?c.toElement:c.fromElement;while(a&&a!=b){a=a.parentNode}return(a!=b)},currentEvent:function(){if(document.all){return window.event}func=tctipUtil.currentEvent.caller;while(func!=null){var a=func.arguments[0];if(a){if((a.constructor==Event||a.constructor==MouseEvent)||(typeof(a)=="object"&&a.preventDefault&&a.stopPropagation)){return a}}func=func.caller}return null},mergeArray:function(d,b,a){for(var c in b){if(d.hasOwnProperty(c)||a){d[c]=b[c]}}return d},animate:function(c,b,d){for(var a in c){b.style[a]=c[a]}}};var tctip=window.tctip||{myConfig:{headText:"喜欢请打赏",siderText:"公告 & 打赏",siderTextTop:"-84px",siderBgcolor:"#323d45",siderTop:"10%",buttomText:"了解更多",buttomLink:"https://github.com/haddyyang/tctip"},myRewards:null,myRewardsBtn:null,myRewardsMain:null,myRewardsbox:null,myRewardsList:null,myRewardsDetail:null,myRewardsListUl:null,myRewardsUbox:null,currentLi:null,currentData:null,generateMyConfig:function(){tctip.myConfig=tctipUtil.mergeArray(tctip.myConfig,tctipConfig);var d=[];var a=0;var e=false;for(var c in tctipConfig.list){var b=tctipConfig.list[c];if(b.className=="myR-on"){e=true}d.push(b);a+=1;if(a>=5){break}}if(e==false){d[0].className="myR-on"}tctip.myConfig.list=d},generateMyRewards:function(){this.myRewards=tctipUtil.createElement({id:"myRewards",className:"myRewards",style:"top:"+this.myConfig.siderTop+";"});this.generateLeftBtn();this.generateMyRewardsMain()},generateLeftBtn:function(){var a={className:"btn-myRewards",href:"javascript:;"};a.style="margin-top:"+tctip.myConfig.siderTextTop+";";a.onmouseover=function(){tctip.showTctip(this)};this.myRewardsBtn=tctipUtil.createElement(a,"a",this.myRewards);var a={className:"sider-text"};a.style="background-color:"+tctip.myConfig.siderBgcolor;a[tctipUtil.getTextKey()]=tctip.myConfig.siderText;tctipUtil.createElement(a,"p",this.myRewardsBtn)},showTctip:function(b){var a=tctipUtil.currentEvent();if(tctipUtil.isMouseLeaveOrEnter(a,b)){tctipUtil.animate({width:"240px"},tctip.myRewards,200);tctipUtil.animate({display:"none"},tctip.myRewardsBtn,200)}},hideTctip:function(b){var a=tctipUtil.currentEvent();if(tctipUtil.isMouseLeaveOrEnter(a,b)){tctipUtil.animate({width:"0px"},tctip.myRewards,200);tctipUtil.animate({display:"block"},tctip.myRewardsBtn,200)}},generateMyRewardsMain:function(){this.myRewardsMain=tctipUtil.createElement({className:"myRewards-main",onmouseout:function(){tctip.hideTctip(this)}},"div",this.myRewards);var a=this.myRewardsMain;var c={className:"sider-close",title:"收起",onclick:function(){tctip.hideTctip(a)}};c[tctipUtil.getTextKey()]=">>";c.href="javascript:;";tctipUtil.createElement(c,"a",this.myRewardsMain);var c={className:"myR-h"};c[tctipUtil.getTextKey()]=tctip.myConfig.headText;tctipUtil.createElement(c,"h1",this.myRewardsMain);this.generateMyRewardsbox();var b=tctipUtil.createElement({className:"myR-bot"},"p",this.myRewardsMain);c={href:tctip.myConfig.buttomLink||"https://github.com/HaddyYang/tctip",target:"_blank"};c[tctipUtil.getTextKey()]=tctip.myConfig.buttomText||"了解更多";tctipUtil.createElement(c,"a",b)},generateMyRewardsbox:function(){this.myRewardsbox=tctipUtil.createElement({className:"myRewardsbox"},"div",this.myRewardsMain);this.generateMyRewardsList();this.generateMyRewardsDetail()},generateMyRewardsList:function(){this.myRewardsList=tctipUtil.createElement({className:"myRewards-list"},"div",this.myRewardsbox);if(tctip.myConfig.list.length>=5){this.myRewardsListUl=tctipUtil.createElement({},"ul",this.myRewardsList)}else{this.myRewardsListUl=tctipUtil.createElement({className:"not-full"},"ul",this.myRewardsList)}for(var c=0;c<5;c++){if(!tctip.myConfig.list.hasOwnProperty(c)){break}var b=tctip.myConfig.list[c];var a=tctipUtil.createElement({className:b.className},"li",this.myRewardsListUl);var d=null;(function(){var e=b;var f={href:"javascript:;",onmouseover:function(){tctip.leftMouseover(this,e)}};f[tctipUtil.getTextKey()]=b.name;if(c==4){f.className="fifth"}d=tctipUtil.createElement(f,"a",a)})();if(b.className=="myR-on"){this.currentLi=a;this.currentData=b}tctipUtil.createElement({className:"png",src:b.icon,alt:b.name},"img",d)}},generateMyRewardsDetail:function(){if(tctip.myRewardsDetail){tctip.myRewardsbox.removeChild(tctip.myRewardsDetail)}this.myRewardsDetail=tctipUtil.createElement({className:"myRewards-detail"},"div",this.myRewardsbox);this.myRewardsUbox=tctipUtil.createElement({className:"myRewards-ubox"},"div",this.myRewardsDetail);var b={className:"myRewards-code-tit"};if(tctip.currentData.hasOwnProperty("text")){b[tctipUtil.getTextKey()]="最新公告";tctipUtil.createElement(b,"p",this.myRewardsUbox);var c=tctipUtil.createElement({className:"myRewards-notice"},"div",this.myRewardsUbox);b={className:"myRewards-text"};b.innerHTML=tctip.currentData.text||tctip.currentData.desc||tctip.currentData.name;var a=tctipUtil.createElement(b,"p",c)}else{b[tctipUtil.getTextKey()]="扫描二维码打赏";tctipUtil.createElement(b,"p",this.myRewardsUbox);var c=tctipUtil.createElement({className:"myRewards-code"},"div",this.myRewardsUbox);if(tctip.currentData.hasOwnProperty("qrimg")){tctipUtil.createElement({src:tctip.currentData.qrimg},"img",c);b={className:"myRewards-account"};b[tctipUtil.getTextKey()]=tctip.currentData.desc||tctip.currentData.name;var a=tctipUtil.createElement(b,"p",this.myRewardsUbox)}}},leftMouseover:function(a,b){tctip.currentLi.className="";a.parentNode.className="myR-on";tctip.currentLi=a.parentNode;tctip.currentData=b;tctip.generateMyRewardsDetail()},init:function(){if(!document.body){setTimeout(tctip.init,0)}else{tctip.generateMyConfig();tctip.generateMyRewards()}}};tctip.init();
